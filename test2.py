import pandas as pd
import numpy as np


data1=pd.read_csv("soybean_marker_selection.csv")
data1=data1.iloc[:,0:3]

data2=pd.read_csv('flower_need.csv')
data2['snp'] = data2.iloc[:,0].str.split('_').str[0]
data2.index=data2['snp']
data1.index=data1['snp']
data=pd.merge(data1, data2, left_index=True, right_index=True, how='inner')
new_data=data.iloc[:,[1,2,4,5,6]]
new_data.to_csv('data_flower.csv')

import matplotlib.pyplot as plt
import seaborn as sns
#for plotting
lgb=np.array([0.9002240857267731, 0.883220022767118, 0.8739155837169853, 0.8919995971640857, 0.8686765697484231, 0.8895108775378842, 0.8806779252027646, 0.8711405258974011, 0.8605073656130194, 0.8916268025392871])
xgb=np.array([0.849489548302048, 0.8738014066863153, 0.8406240051683617, 0.8644377064412118, 0.8567903106056881, 0.8682156648457885, 0.873015206198184, 0.8421734071053104, 0.8421757052667265, 0.8587330897923531])
svm=np.array([0.8484791351705805, 0.8272014334938633, 0.8119164866173328, 0.8603605855386574, 0.8591969845462136, 0.8350655991867176, 0.8567836641222114, 0.8317862672105288, 0.8593064238690309, 0.8416522789496212])
mlp=np.array([0.7938011259933505, 0.8080625980829529, 0.8104583624205067, 0.7757879084100376, 0.8069045317828774, 0.7866264370332923, 0.7884689567632898, 0.7791036989830106, 0.8083932779858455, 0.8243390930557443])
rf=np.array([0.8893535533834515, 0.8621748366161462, 0.8772250330711193, 0.8592560313794213, 0.8795297309880766, 0.8603379428594379, 0.8904786567305868, 0.8653560534371094, 0.868476025064964, 0.8724754655852708])
total = pd.DataFrame({'RF': rf**2, 'XGB': xgb**2,'LGB':lgb**2 ,'SVM': svm**2, 'MLP': mlp**2})
#total.boxplot()
sns.violinplot(data=total)
#plt.xticks(ticks=np.arange(0, len(total.columns), labels=total.columns), rotation=45)
plt.ylabel('R-square')
plt.title('performance of different models')
plt.show()



